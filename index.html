<!doctype html>
<html>
<head>
  <title>The Gopher Network</title>
  <link rel="stylesheet" type="text/css" href="/static/style.css">
	<script src="https://cdn.firebase.com/libs/firebaseui/2.6.2/firebaseui.js"></script>
	<link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/2.6.2/firebaseui.css" />

	<script src="https://www.gstatic.com/firebasejs/5.7.2/firebase.js"></script>
	<script>
	  // Initialize Firebase
	  var config = {
	    apiKey: "AIzaSyCrAaiLZdTaLulRAK4cvR6wNdteDRvc430",
	    authDomain: "my-learning-project-140015.firebaseapp.com",
	    databaseURL: "https://my-learning-project-140015.firebaseio.com",
	    projectId: "my-learning-project-140015",
	    storageBucket: "my-learning-project-140015.appspot.com",
	    messagingSenderId: "630242764426"
	  };
	  firebase.initializeApp(config);
	</script>
	<script src="/static/index.js"></script>
</head>
<body>

<h1>The Gopher Network</h1>

<img id="logo" src="/static/gcp-gopher.svg" width="100">

{{with .Notice}}<div id="notice">{{.}}</div>{{end}}

<!-- [START gae_go_env_html_post_template] -->
{{with .Posts}}
<ol>
  {{range .}}
  <li>
		<cite>{{.Author}}</cite><p>{{.Message}}</p>
		{{ if .ImageURL }}
		<img src="{{.ImageURL}}">
		{{ if .Labels }}
		<p>Labels:
		  {{ range $i, $l := .Labels }}
		  {{- if $i }}, {{end}}
		  {{ printf "%s (%.3f)" $l.Description $l.Score -}}
		  {{end}}
		</p>
		{{end}}
		{{end}}
	</li>
  {{end}}
</ol>
{{end}}
<!-- [END gae_go_env_html_post_template] -->

<div id="firebaseui-auth-container"></div>
<div id="sign-in"></div>
<div>
  <span id="account-details"></span>
  <button id="sign-out" hidden=true>Sign Out</button>
</div>

<form id="post-form" enctype="multipart/form-data" action="/" method="post" hidden=true>
  <div>Message: <input name="message" value="{{.Message}}"></div>
  <input name="image" id="image" type="file" accept="image/*">
  <input type="hidden" name="token" id="token">
  <input type="submit">
</form>

</body>
</html>
